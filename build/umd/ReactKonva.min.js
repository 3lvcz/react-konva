!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("konva")):"function"==typeof define&&define.amd?define(["react","konva"],t):"object"==typeof exports?exports.ReactKonva=t(require("react"),require("konva")):e.ReactKonva=t(e.React,e.Konva)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(3),a=o.KonvaHierarchy;r.injectKonvaProperties(o.KonvaPropertyConfig,a,o.KonvaEvents);var i=n(4),s=n(5);e.exports={Stage:i};var l={Stage:!0,Node:!0,BaseLayer:!0,Container:!0},d={Layer:!0,FastLayer:!0,Group:!0,Label:!0},p={Layer:!0,FastLayer:!0};for(var u in a)l[u]||(e.exports[u]=s.createSimpleClass(u,d[u],p[u]))},function(e,t,n){"use strict";function r(e,t,n){for(var r in t){var a=t[r];o.getParents[r]=[r].concat(a);for(var i in a){var s=a[i],l=o.getChildren[s]||[];l.push(r),o.getChildren[s]=l}}for(var d in e){var p=e[d],u=p.propName,c=p.type,h=p.defaultValue,f=p.nodeType,v=[f].concat(o.getChildren[f]||[]);for(var S in v){var g=v[S],N=o.getValidProps[g]||{};N[u]={type:c,defaultValue:h},o.getValidProps[g]=N}}for(var m in n)o.getEventName[m]=n[m]+".react"}var o={getParents:{},getChildren:{},getValidProps:{},getEventName:{}};e.exports={injectKonvaProperties:r,KonvaProperty:o}},function(e,t,n){"use strict";function r(e,t,n){o.push({propName:t,type:void 0,nodeType:e,defaultValue:n})}var o=[],a={Node:[],Stage:["Node"],Container:["Node"],BaseLayer:["Container","Node"],Layer:["Container","Node"],FastLayer:["Container","Node"],Group:["Container","Node"],Label:["Group","Container","Node"],Shape:["Node"],Rect:["Shape","Node"],Circle:["Shape","Node"],Ellipse:["Shape","Node"],Ring:["Shape","Node"],Wedge:["Shape","Node"],Arc:["Shape","Node"],Image:["Shape","Node"],Text:["Shape","Node"],Line:["Shape","Node"],Sprite:["Shape","Node"],Path:["Shape","Node"],TextPath:["Shape","Node","Path","Text"],RegularPolygon:["Shape","Node"],Star:["Shape","Node"],Tag:["Shape","Node"]},i={onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseWheel:"mousewheel",onClick:"click",onDblClick:"dblclick",onDragStar:"dragstart",onDragEnd:"dragend",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTap:"tap",onDblTap:"dbltap",onDragMove:"dragmove"};r("Node","x",0),r("Node","y",0),r("Node","position"),r("Node","name"),r("Node","id"),r("Node","dragDistance"),r("Node","width"),r("Node","height"),r("Node","size"),r("Node","draggable"),r("Node","opacity",1),r("Node","rotation",0),r("Node","scale"),r("Node","scaleX",1),r("Node","scaleY",1),r("Node","skew"),r("Node","skewX",0),r("Node","skewY",0),r("Node","offset"),r("Node","offsetX",0),r("Node","offsetY",0),r("Node","listening","inherit"),r("Node","filters",void 0),r("Node","visible","inherit"),r("Node","transformsEnabled","all"),r("Node","brightness",0,null),r("Node","blurRadius",0,null),r("Node","threshold",0,null),r("Node","red",0),r("Node","green",0),r("Node","blue",0),r("Node","hue",0,null),r("Node","saturation",0,null),r("Node","value",0,null),r("Node","hue",0,null),r("Node","saturation",0,null),r("Node","luminance",0,null),r("Node","embossStrength",.5,null),r("Node","embossWhiteLevel",.5,null),r("Node","embossDirection","top-left",null),r("Node","embossBlend",!1,null),r("Node","enhance",0,null),r("Node","levels",.5,null),r("Node","noise",.2,null),r("Node","pixelSize",8,null),r("Node","threshold",.5,null),r("Node","kaleidoscopePower",2,null),r("Node","kaleidoscopeAngle",0,null),r("Node","dragBoundFunc"),r("Container","clip"),r("Container","clipX"),r("Container","clipY"),r("Container","clipWidth"),r("Container","clipHeight"),r("Container","mask"),r("Container","maskImage"),r("Container","maskComposition"),r("Container","maskX"),r("Container","maskY"),r("Container","maskWidth"),r("Container","maskHeight"),r("Shape","stroke"),r("Shape","strokeRed",0),r("Shape","strokeGreen",0),r("Shape","strokeBlue",0),r("Shape","strokeAlpha",1),r("Shape","strokeWidth",2),r("Shape","lineJoin"),r("Shape","lineCap"),r("Shape","sceneFunc"),r("Shape","hitFunc"),r("Shape","dash"),r("Shape","shadowColor"),r("Shape","shadowRed",0),r("Shape","shadowGreen",0),r("Shape","shadowBlue",0),r("Shape","shadowAlpha",1),r("Shape","shadowBlur"),r("Shape","shadowOpacity"),r("Shape","shadowOffset"),r("Shape","shadowOffsetX",0),r("Shape","shadowOffsetY",0),r("Shape","fillPatternImage"),r("Shape","fill"),r("Shape","fillRed",0),r("Shape","fillGreen",0),r("Shape","fillBlue",0),r("Shape","fillAlpha",1),r("Shape","fillPatternX",0),r("Shape","fillPatternY",0),r("Shape","fillLinearGradientColorStops"),r("Shape","fillRadialGradientStartRadius",0),r("Shape","fillRadialGradientEndRadius",0),r("Shape","fillRadialGradientColorStops"),r("Shape","fillPatternRepeat","repeat"),r("Shape","fillEnabled",!0),r("Shape","strokeEnabled",!0),r("Shape","shadowEnabled",!0),r("Shape","dashEnabled",!0),r("Shape","strokeScaleEnabled",!0),r("Shape","fillPriority","color"),r("Shape","fillPatternOffset"),r("Shape","fillPatternOffsetX",0),r("Shape","fillPatternOffsetY",0),r("Shape","fillPatternScale"),r("Shape","fillPatternScaleX",1),r("Shape","fillPatternScaleY",1),r("Shape","fillLinearGradientStartPoint"),r("Shape","fillLinearGradientStartPointX",0),r("Shape","fillLinearGradientStartPointY",0),r("Shape","fillLinearGradientEndPoint"),r("Shape","fillLinearGradientEndPointX",0),r("Shape","fillLinearGradientEndPointY",0),r("Shape","fillRadialGradientStartPoint"),r("Shape","fillRadialGradientStartPointX",0),r("Shape","fillRadialGradientStartPointY",0),r("Shape","fillRadialGradientEndPoint"),r("Shape","fillRadialGradientEndPointX",0),r("Shape","fillRadialGradientEndPointY",0),r("Shape","fillPatternRotation",0),r("BaseLayer","clearBeforeDraw",!0),r("Layer","hitGraphEnabled",!0),r("Rect","cornerRadius",0),r("Circle","radius",0),r("Ellipse","radius"),r("Ellipse","radiusX",0),r("Ellipse","radiusY",0),r("Ring","innerRadius",0),r("Ring","outerRadius",0),r("Wedge","radius",0),r("Wedge","angle",0),r("Wedge","clockwise",!1),r("Arc","innerRadius",0),r("Arc","outerRadius",0),r("Arc","angle",0),r("Arc","clockwise",!1),r("Image","image"),r("Image","crop"),r("Image","cropX",0),r("Image","cropY",0),r("Image","cropWidth",0),r("Image","cropHeight",0),r("Text","fontFamily","Arial"),r("Text","fontSize",12),r("Text","fontStyle","normal"),r("Text","fontVariant","normal"),r("Text","padding",0),r("Text","align","left"),r("Text","lineHeight",1),r("Text","wrap","word"),r("Text","text"),r("Line","closed",!1),r("Line","tension",0),r("Line","points"),r("Sprite","animation"),r("Sprite","animations"),r("Sprite","image"),r("Sprite","frameIndex",0),r("Sprite","frameRate",17),r("Path","data"),r("TextPath","fontFamily","Arial"),r("TextPath","fontSize",12),r("TextPath","fontStyle","normal"),r("TextPath","fontVariant","normal"),r("RegularPolygon","radius",0),r("RegularPolygon","sides",0),r("Star","numPoints",5),r("Star","innerRadius",0),r("Star","outerRadius",0),r("Tag","pointerDirection","none"),r("Tag","pointerWidth",0),r("Tag","pointerHeight",0),r("Tag","cornerRadius",0),e.exports={KonvaPropertyConfig:o,KonvaHierarchy:a,KonvaEvents:i}},function(e,t,n){"use strict";var r=n(6),o=n(13),a=n(7),i=n(8),s=n(9),l=r.createClass({displayName:"Stage",mixins:[i,s],propTypes:{width:r.PropTypes.number,height:r.PropTypes.number},componentDidMount:function(){var e=this.getKonvaNode(),t=e.getChildren().slice();this._node=this.createKonvaNode({},this.refs.canvas.getDOMNode()),this.updateNodeProperties({}),t.forEach(function(e){e.moveTo(this.getKonvaNode())}.bind(this)),e.destroy()},createKonvaNode:function(e,t){return t||(t=document.createElement("div")),new a.Stage({container:t})},render:function(){return r.withContext({konvaContainer:this.getKonvaNode()},function(){var e=r.Children.map(this.props.children,function(e){return o(e,{})}.bind(this));return r.DOM.div({},r.DOM.div({ref:"canvas"}),e)}.bind(this))}});e.exports=l},function(e,t,n){"use strict";var r=n(6),o=n(7),a=n(8),i=n(10),s=n(9),l=n(11),d=n(12),p={createSimpleClass:function(e,t,n){var p=[a,i];return t&&p.push(s),n&&p.push(l),r.createClass({displayName:e,mixins:p,createKonvaNode:function(t){return new o[e](t)},render:d.nodeRenderer})}};e.exports=p},function(t,n,r){t.exports=e},function(e,n,r){e.exports=t},function(e,t,n){"use strict";var r=n(2).KonvaProperty,o={componentWillMount:function(){this._propValidCache={};var e=this._getRequiredUpdates({},this.props);this._node=this.createKonvaNode(e.properties)},componentDidMount:function(){this.updateNodeProperties({})},componentDidUpdate:function(e){this.updateNodeProperties(e)},componentWillUnmount:function(){this.getKonvaNode().destroy()},getKonvaNode:function(){return this._node},_isPropValid:function(e){return r.getValidProps[this.constructor.displayName][e]},_getValidProp:function(e){return this._propValidCache.hasOwnProperty(e)||(this._propValidCache[e]=this._isPropValid(e)),this._propValidCache[e]},_getRequiredUpdates:function(e,t){var n,o,a,i={eventsOn:{},eventsOff:{},properties:{}};for(n in e)o=r.getEventName[n],a=this._getValidProp(n),t.hasOwnProperty(n)||(o?i.eventsOff[o]=!0:a&&(i.properties[n]=a[1]));for(n in t)o=r.getEventName[n],a=this._getValidProp(n),o?e.hasOwnProperty(n)?e[n]!==t[n]&&(i.eventsOff[o]=!0,i.eventsOn[o]=t[n]):i.eventsOn[o]=t[n]:a&&(e.hasOwnProperty(n)&&e[n]===t[n]||(i.properties[n]=t[n]));return i},updateNodeProperties:function(e){var t,n=this.getKonvaNode(),r=this._getRequiredUpdates(e,this.props);for(t in r.eventsOff)n.off(t);for(t in r.eventsOn)n.on(t,r.eventsOn[t]);n.setAttrs(r.properties)}};e.exports=o},function(e,t,n){"use strict";var r=n(6),o=n(13),a={nodeRender:function(){return r.withContext({konvaContainer:this.getKonvaNode()},function(){var e=r.Children.map(this.props.children,function(e){return o(e,{})}.bind(this));return r.DOM.span({},e)}.bind(this))}};e.exports=a},function(e,t,n){"use strict";var r=n(6),o={contextTypes:{konvaContainer:r.PropTypes.any.isRequired},componentDidMount:function(){this.context.konvaContainer.add(this._node)}};e.exports=o},function(e,t,n){"use strict";var r={componentDidUpdate:function(){this.getKonvaNode().draw()}};e.exports=r},function(e,t,n){"use strict";e.exports={nodeRenderer:function(){return this.nodeRender?this.nodeRender():null}}},function(e,t,n){"use strict";function r(e,t){var n=a.mergeProps(t,e.props);return!n.hasOwnProperty(s)&&e.props.hasOwnProperty(s)&&(n.children=e.props.children),o.createElement(e.type,n)}var o=n(14),a=n(15),i=n(16),s=(n(17),i({children:null}));e.exports=r},function(e,t,n){"use strict";var r=n(21),o=n(22),a=n(18),i=(n(17),{key:!0,ref:!0}),s=function(e,t,n,r,o,a){this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=o,this.props=a};s.prototype={_isReactElement:!0},s.createElement=function(e,t,n){var a,l={},d=null,p=null;if(null!=t){p=void 0===t.ref?null:t.ref,d=void 0===t.key?null:""+t.key;for(a in t)t.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(l[a]=t[a])}var u=arguments.length-2;if(1===u)l.children=n;else if(u>1){for(var c=Array(u),h=0;u>h;h++)c[h]=arguments[h+2];l.children=c}if(e&&e.defaultProps){var f=e.defaultProps;for(a in f)"undefined"==typeof l[a]&&(l[a]=f[a])}return new s(e,d,p,o.current,r.current,l)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceProps=function(e,t){var n=new s(e.type,e.key,e.ref,e._owner,e._context,t);return n},s.cloneElement=function(e,t,n){var r,l=a({},e.props),d=e.key,p=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(p=t.ref,u=o.current),void 0!==t.key&&(d=""+t.key);for(r in t)t.hasOwnProperty(r)&&!i.hasOwnProperty(r)&&(l[r]=t[r])}var c=arguments.length-2;if(1===c)l.children=n;else if(c>1){for(var h=Array(c),f=0;c>f;f++)h[f]=arguments[f+2];l.children=h}return new s(e.type,d,p,u,e._context,l)},s.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},e.exports=s},function(e,t,n){"use strict";function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=d[n];r&&d.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var a=n(18),i=n(19),s=n(20),l=r(function(e,t){return a({},t,e)}),d={children:i,className:r(s),style:l},p={mergeProps:function(e,t){return o(a({},e),t)}};e.exports=p},function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,n){"use strict";var r=n(19),o=r;e.exports=o},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){var i=Object(a);for(var s in i)r.call(i,s)&&(n[s]=i[s])}}return n}e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,n){"use strict";var r=n(18),o=n(23),a=(n(17),{current:o,withContext:function(e,t){var n,o=a.current;a.current=r({},o,e);try{n=t()}finally{a.current=o}return n}});e.exports=a},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){"use strict";var r={};e.exports=r}])});